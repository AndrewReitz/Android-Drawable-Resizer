define(["app/androidDrawable"],function(e){var t=function(e){if(!e)throw new Error("callback must be defined");if(typeof e!="function")throw new TypeError("callback must be a function");this._callback=e,this._imageHolder=[],this._imageCount=0};return t.prototype.setNumberOfImages=function(e){if(!e)throw new Error("numberOfImages must be defined");if(typeof e!="number")throw new TypeError("numberOfImages must be a number");this._numberOfImages=e},t.prototype.setDensity=function(e){if(!e)throw new Error("density can not be defined");if(typeof e!="number")throw new TypeError("density must be a number");this._density=e},t.prototype.loadImage=function(e,t){if(!this._density)throw new Error("setDensity must be called before loadImage can be called");if(!this._numberOfImages)throw new Error("setNumberOfImages must be called before loadImage can be called");if(!e)throw new Error("dataUrl must be defined");if(typeof e!="string"||e.indexOf("data:image/")<0)throw new TypeError("dataUrl mst be a base64 encoded string");if(!t)throw new Error("filename must be defined");if(typeof t!="string")throw new TypeError("filename must be a string");var n=new Image;n.name=t,this._imageHolder.push(n),n.onload=this._onLoadComplete.bind(this),n.src=e},t.prototype._onLoadComplete=function(){var t=[];this._imageCount=this._imageCount+1;if(this._numberOfImages===this._imageCount){for(var n=0;n<this._imageHolder.length;n++){var r=new e(this._imageHolder[n],this._density);t.push(r)}this._callback(t)}},t});